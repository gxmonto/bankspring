<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Loan Payment Form</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<h1>Loan Payment Form</h1>
<form id="loanPaymentForm">
    <label for="amount">Amount:</label><br>
    <input type="number" id="amount" name="amount"><br>
    <label for="date">Date:</label><br>
    <input type="date" id="date" name="date"><br>
    <label for="loanId">Loan ID:</label><br>
    <input type="number" id="loanId" name="loanId"><br>
    <input type="button" value="Submit" id="submitButton">
</form>

<script>
    $("#submitButton").click(function() {
        var formData = {
            amount: $("#amount").val(),
            date: $("#date").val(),
            bankLoan: {
                loanId: $("#loanId").val()
            }
        };

        $.ajax({
            type: "POST",
            url: "http://localhost:8080/api/v1/loanPayment", // adjust the URL to your LoanPaymentController
            data: JSON.stringify(formData),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function(data) {
                console.log("Loan payment saved successfully!");
            },
            error: function(error) {
                console.log("Error saving loan payment: " + error);
            }
        });
    });
</script>
</body>
</html>